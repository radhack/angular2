<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>HelloSign and Angular 2</title>
  <base href="/">
  <script type="text/javascript" src="https://s3.amazonaws.com/cdn.hellosign.com/public/js/hellosign-embedded.LATEST.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root>Loading...</app-root>
  <script>
    HelloSign.init("d7219512693825facdd9241f458decf2"); // just hardcoding this for now
    HelloSign.open({
      url: "https://app.hellosign.com/editor/embeddedSign?signature_id=ca8ed2b8ee2c355890d33960a91a8e7a&token=3c51de0915da31db9130829073e45a5a", // just hardcoding this and updating manually as needed
      allowCancel: true,
      skipDomainVerification: true,
      uxVersion: 2,
      debug: true,
      messageListener: function (eventData) {
        (console.log(">-*>-*>-*> Got message data: " + JSON.stringify(eventData)));
        if (eventData.event == HelloSign.EVENT_SIGNED) {
          if (eventData.signature_id == null) {
            alert("SIGNATURE_ID MISSING");
          }
          HelloSign.close();
          alert("Give me a few seconds to get the documents");
          console.log(eventData.signature_id + " here's some information that's useful...*&^^&**&^^&**&^^&**&^^&*");
//                  console.log("This is the signature_request_id...");

        } else if (eventData.event == HelloSign.EVENT_CANCELED) {
          HelloSign.close();
          //                            alert("Event Canceled And Stuff!");
          console.log(eventData);
          window.location = "index.php";
        } else if (eventData.event == HelloSign.EVENT_ERROR) {
          HelloSign.close();
          alert("There Was An Error And Stuff!");
          console.log(eventData);
          window.location = "index.php";
        } else if (eventData.event == HelloSign.EVENT_SENT) {
          if (eventData.signature_request_id == null) {
            alert("SIGNATURE_REQUEST_ID MISSING");
          }
          HelloSign.close();
          //                            alert("Signature Request Sent And Stuff!");
          console.log(eventData);
          console.log("************");
          console.log(eventData.signature_request_id);
          window.location = "index.php";
        } else if (eventData.event == HelloSign.EVENT_TEMPLATE_CREATED) {
          HelloSign.close();
          var template_id = eventData.template_id;
          //                            window.alert("Template ID is " + template_id);
          console.log(eventData);
          window.location = "index.php";
        } else if (eventData.event == HelloSign.EVENT_DECLINED) {
          HelloSign.close();
          //                            alert("Signature Request declined And Stuff!");
          console.log(eventData);
          window.location = "index.php";
        }
      }
    });
  </script>

</body>
</html>
